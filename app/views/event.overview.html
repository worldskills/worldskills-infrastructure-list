<ws-spinner ng-show="!auth.accessToken" class='bigSpinner'></ws-spinner>

<div class='alert alert-danger' ng-show="auth.accessToken != null && activeRole == false" translate>
    NO_ACCESS_ROLE
</div>


<ws-spinner ng-if="loading.init" class='bigSpinner'></ws-spinner>

<div class='row' ng-if="skills.length > 0">
  <div class='col col-xs-12 col-sm-9'>
    <skill-status-selector skills="skills" link="event.skill.overview" event="event.id"></skill-status-selector>      
  </div>
  <div class='col col-xs-12 col-sm-3'>
    <div class='panel panel-default'>
      <div class='panel-heading' translate>PERMISSIONS</div>
      <div class='panel-body'>
        <div class="permissionList">
        <div ng-repeat="position in activePositions track by $index" ng-class="{active: position.id == activePosition.id}" >
          <a ng-click="setActivePosition(position, $event);" href="#">{{position.role}}
            <small><span ng-if="position.target" translate###>in {{position.target}} </span>{{ 'POSITION_EVENT_NAME_TEXT' | translate:{ position: position.event.name.text} }}</small></a></div>
        </div>
        <!--<div ng-repeat="role in ilRoles track by role.id"><b>{{role.name}}</b>,<br /><small><i>{{role.ws_entity.name.text}}</i></small></div>-->
      </div>
    </div>

    <div class='panel panel-default' ng-if="activePosition.role == APP_ROLES.ORGANIZER || activePosition.role == APP_ROLES.ADMIN || activePosition.role == APP_ROLES.WS_SECTOR_MANAGER">
      <div class='panel-heading' translate>ADMIN_VIEWS</div>
      <div class='panel-body'>
        <ul>
          <li ng-if="hasRole(APP_ROLES.ADMIN) || hasRole(APP_ROLES.EDIT_ITEM_CATEGORIES)"><a ui-sref="itemCategory({eventId: selectedEvent.id})" translate>ITEM_CATEGORY_AND_SUBCATEGORY</a></li>
          <li><a ui-sref="requestedItems({eventId: selectedEvent.id})" translate>REQUESTED_ITEMS</a></li>
          <li ng-if="hasRole(APP_ROLES.ADMIN) || hasRole(APP_ROLES.EDIT_CONFIG)"><a ui-sref="event.skill-participants-override({eventId: selectedEvent.id})" translate>SKILL_PARTICIPANTS_OVERRIDE</a></li>
          <li><a ui-sref="event.catalogue({eventId: selectedEvent.id})" translate>CATALOGUE_EDITOR</a></li>
          <li ng-if="hasRole(APP_ROLES.ADMIN) || hasRole(APP_ROLES.RECOMMEND)"><a ui-sref="recommendations({eventId: selectedEvent.id})" translate>RECOMMENDATIONS</a></li>
          <li><ws-spinner class="smallSpinner" ng-if="loading.requested"></ws-spinner><a ng-if="!loading.requested" href="#" ng-click="exportAllRequested($event)" translate>EXPORT_REQUESTED_ITEMS</a></li>
          <li><ws-spinner class="smallSpinner" ng-if="loading.catalogue"></ws-spinner><a ng-if="!loading.catalogue" href="#" ng-click="exportAllCatalogue($event)" translate>EXPORT_ALL_ITEMS</a></li>
        </ul>
      </div>
    </div>
  </div>

</div>

<!-- <div ng-show='auth.accessToken != null && activeRole !== false'>
    {{selectedSector}}
    {{skills}}
</div> -->
