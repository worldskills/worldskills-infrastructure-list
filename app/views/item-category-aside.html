<div class="aside ng-scope">
  <fieldset>
    <legend class="ng-scope" translate>item_category_property</legend>
    <alerts></alerts>
    <ws-spinner ng-if="loading.aside"></ws-spinner>
    <form name="addForm">
      <div class="well">
        <div class="form-group addForm">
          <label class="control-label" translate>item_category_name</label>
          <input type="text" class="form-control form-control-small has-feedback" autofocus="autofocus" placeholder="{{'placeholder.item_category_name' | translate}}" ng-required="true" ng-model="item.name.text">
        </div>

        <div class="form-group addForm">
          <label class="control-label" translate>item_category_parent</label>
          <ui-select ng-model="item.parent_id" theme="bootstrap">
            <ui-select-match allow-clear="true" placeholder="{{ 'item_category_parent_none' | translate }}">{{$select.selected.path}} {{$select.selected.name.text}}</ui-select-match>
            <ui-select-choices repeat="category.id as category in (categoriesFlat | customWSFilter: {objPath: 'name.text', 'query': $select.search}) track by category.id">
              <div>{{category.path}} {{category.name.text}}</div>
            </ui-select-choices>
          </ui-select>
        </div>
      </div>
      <button class="btn btn-sm btn-success" ng-click="saveItemCategory(index)" ng-disabled="addForm.$error.required" translate>save</button>
      <button class="btn btn-sm btn-warning" ng-click="cancel();" translate>cancel</button>
    </form>
  </fieldset>
</div>
